<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>快速排序</title>
</head>

<body>
  <script>
    // 快速排序
    {
      var arr = [1, 3, 4, 5, 8, 9, 2, 222, 22, 33, 44, 55, 12, 13, 45]
      function quickSort(arr) {
        if (arr.length <= 1) return arr
        let midIndex = Math.floor(arr.length / 2)
        let midValue = arr.splice(midIndex, 1)[0]
        let left = []
        let right = []
        for (let i = 0; i < arr.length; i++) {
          if (arr[i] < midValue) {
            left.push(arr[i])
          } else {
            right.push(arr[i])
          }
        }
        return quickSort(left).concat(midValue, quickSort(right))
      }
      console.log(arr)
    }

    {
      function quickSort(nums, start, end) {
        if (start >= end) {
          return;
        }
        const mid = partition(nums, start, end);
        quickSort(nums, start, mid - 1);
        quickSort(nums, mid + 1, end);
      }
      function partition(nums, start, end) {
        const pivot = nums[start];
        let left = start + 1;
        let right = end;
        while (left < right) {
          while (left < right && nums[left] <= pivot) {
            left++;
          }
          while (left < right && nums[right] >= pivot) {
            right--;
          }
          if (left < right) {
            [nums[left], nums[right]] = [nums[right], nums[left]];
            left++;
            right--;
          }
        }
        if (left === right && nums[right] > pivot) {
          right--;
        }
        if (right !== start) {
          [nums[start], nums[right]] = [nums[right], nums[start]];
        }
        return right;
      }
      quickSort(arr,0,arr.length-1)
    }
  </script>
</body>

</html>